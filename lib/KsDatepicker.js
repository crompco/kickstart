!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.KsDatepicker=t():(e.KickstartUI=e.KickstartUI||{},e.KickstartUI.KsDatepicker=t())}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=115)}({106:function(e,t,n){var a=n(5)(n(66),n(109),null,null);e.exports=a.exports},109:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ks-calendar",attrs:{tabindex:"-1"}},[n("div",{staticClass:"ks-calendar-title"},[n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.closeYear(t)}}},[e._v(e._s(e.month))]),e._v(" "),e.yearPicker?n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.openYear(t)}}},[e._v(e._s(e.year))]):n("span",[e._v(e._s(e.year))])]),e._v(" "),n("div",{ref:"calendar",staticClass:"ks-calendar-view",class:{interactive:e.interactive}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.yearPickerOpen,expression:"!yearPickerOpen"}]},[n("div",{staticClass:"ks-calendar-controls"},[n("button",{ref:"previous",staticClass:"ctrl-left",on:{click:function(t){t.preventDefault(),e.previous(t)}}},[e._v("<")]),e._v(" "),n("span",{staticClass:"ctrl-label"},[e._v("\n\t\t\t            "+e._s(e.month)+" "+e._s(e.year)+"\n\t\t            ")]),e._v(" "),n("button",{ref:"next",staticClass:"ctrl-right",on:{click:function(t){t.preventDefault(),e.next(t)}}},[e._v(">")])]),e._v(" "),n("div",{staticClass:"ks-calendar-month"},[n("div",{staticClass:"cal-week cal-week-header"},e._l(e.week_titles,function(t){return n("div",{staticClass:"cal-day"},[e._v("\n\t\t\t\t            "+e._s(t)+"\n\t\t\t            ")])})),e._v(" "),e._l(e.weeks,function(t){return n("div",{staticClass:"cal-week",style:e.week_style},e._l(t,function(t){return e.isInMonth(t)?n("div",{staticClass:"cal-day",class:e.dayClass(t),attrs:{tabindex:e.tabindex},on:{click:function(n){n.preventDefault(),e.selectDay(t)},keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13))return null;e.selectDay(t)}}},[n("div",[n("span",{staticClass:"day-num"},[e._v("\n\t\t\t\t\t\t            "+e._s(e._f("day")(t))+"\n\t\t\t\t\t            ")]),e._v(" "),e._t(e.formatDate(t))],2)]):n("div",{staticClass:"cal-blank"})}))})],2)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.yearPickerOpen,expression:"yearPickerOpen"}]},[n("ul",{staticClass:"year-selection"},e._l(e.year_list,function(t){return n("li",{class:{"selected-year":t==e.year},attrs:{tabindex:"0"},domProps:{textContent:e._s(t)},on:{click:function(n){n.preventDefault(),e.changeYear(t)},keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"enter",13))return null;n.stopPropagation(),n.preventDefault(),e.changeYear(t)}}})}))])])])},staticRenderFns:[]}},11:function(e,t,n){"use strict";function a(e,t){for(var n=new Date(t,e,1),a=[];n.getMonth()===e;)a.push(new Date(n)),n.setDate(n.getDate()+1);return a}function r(e){return new Date(e.getTime())}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(e);return n.setDate(e.getDate()-t),n.getDate()>e.getDate()&&(n.setMonth(e.getMonth()-1),n.getMonth()>e.getMonth()&&n.setFullYear(e.getFullYear()-1)),n}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(e);return n.setMonth(e.getMonth()-t),n.getMonth()>e.getMonth()&&n.setFullYear(e.getFullYear()-1),n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(e);return n.setFullYear(e.getFullYear()-t),n}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(e);return n.setDate(e.getDate()+t),n.getDate()<e.getDate()&&(n.setMonth(e.getMonth()+1),n.getMonth()<e.getMonth()&&n.setFullYear(e.getFullYear()+1)),n}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r(e);return n.setMonth(e.getMonth()+t),n.getMonth()<e.getMonth()&&n.setFullYear(e.getFullYear()+1),n}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Y-m-d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e instanceof Date||(e=d(e,n));var a=e.getFullYear(),r=e.getMonth()+1,o=e.getUTCDate();return r=(0,f.pad_left)(r,"0",2),o=(0,f.pad_left)(o,"0",2),t.toLowerCase().replace("y",a).replace("m",r).replace("d",o)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Y-m-d";t=t.replace("Y","YYYY").replace("m","mm").replace("d","dd");var n=t.indexOf("Y"),a=t.indexOf("m"),r=t.indexOf("d"),o=parseInt(e.slice(n,n+4)),s=parseInt(e.slice(a,a+2)),i=parseInt(e.slice(r,r+2));return e=new Date,e.setFullYear(o),e.setMonth(s-1),e.setDate(i),e}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLocale=void 0,t.getDaysInMonth=a,t.cloneDate=r,t.subDays=o,t.subMonths=s,t.subYears=i,t.addDays=u,t.addMonths=l,t.formatDate=c,t.parseDate=d;var f=n(3),h=t.defaultLocale={months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviations:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviations:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}};t.default={defaultLocale:h,getDaysInMonth:a,cloneDate:r,subDays:o,subMonths:s,subYears:i,addDays:u,addMonths:l,formatDate:c,parseDate:d}},111:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ks-datepicker",on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27))return null;e.is_open=!1}}},[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.value}}),e._v(" "),n("input",{ref:"display",staticClass:"ks-datepicker-display",domProps:{value:e.display_date},on:{focus:e.open}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"ks-datepicker-cal"},[n("ks-calendar",{ref:"calendar",attrs:{format:e.dateFormat,selection:e.value,"year-picker":e.yearPicker,interactive:!0},on:{select:e.selectDay},model:{value:e.calendar_date,callback:function(t){e.calendar_date=t},expression:"calendar_date"}})],1)])},staticRenderFns:[]}},115:function(e,t,n){e.exports=n(45)},3:function(e,t,n){"use strict";function a(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(u,"\\$&")}function r(e){return(e+"").replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function o(e){var t=e;return"s"==e[e.length-1]?t+"'":t+"'s"}function s(e){return"$"+parseFloat(e).toFixed(2).replace(/./g,function(e,t,n){return t&&"."!==e&&(n.length-t)%3==0?","+e:e})}function i(e,t,n){return String(t+String(e)).slice(n*-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.escapeRegExp=a,t.ucwords=r,t.posesses=o,t.currency=s,t.pad_left=i;var u=/[|\\{}()[\]^$+*?.]/g;t.default={escapeRegExp:a,ucwords:r,posesses:o,currency:s,pad_left:i}},4:function(e,t,n){"use strict";function a(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener?(e.addEventListener(t,n,a),"mousewheel"==t&&e.addEventListener("DOMMouseScroll",n,a)):e.attachEvent(t,n)}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150,r=[];a(e,"focus",function(e){t(!0,e),r.push(e.target)},!0),a(e,"blur",function(a){var o=r.indexOf(a.target);o!==-1&&r.splice(o,1),setTimeout(function(){0==r.length&&e!==document.activeElement&&t(!1,a)},n)},!0)}function o(e){return e.keyCode?e.keyCode:e.charCode}function s(e){a(e,"mousewheel",function(t){var n=e.offsetHeight,a=e.scrollHeight,r=e.scrollTop;t.wheelDelta>0||t.deltaY<0?0==r&&t.preventDefault():n+r>=a&&t.preventDefault(),t.stopPropagation()})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o=void 0;a(e,"scroll",function(a){clearTimeout(o),o=setTimeout(function(){u(e,r)&&t()},n)})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=e.scrollTop,a=e.offsetHeight,r=e.scrollHeight;return 0!==n&&n+a>=r-t}function l(e,t){function n(){i=setTimeout(function(){t(),l*=.925,n()},l)}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,s=!1,i=null,u=null,l=o;a(e,"mousedown",function(){u=setTimeout(function(){(s=!0)===!0&&n()},r)}),a(e,"mouseup",function(){clearTimeout(u),clearTimeout(i),s=!1,l=o})}Object.defineProperty(t,"__esModule",{value:!0}),t.addEvent=a,t.smartFocusToggle=r,t.keyCode=o,t.stopParentScroll=s,t.scrolledToBottom=i,t.isScrolledToBottom=u,t.mouseHold=l,t.default={addEvent:a,smartFocusToggle:r,keyCode:o,stopParentScroll:s,scrolledToBottom:i,isScrolledToBottom:u,mouseHold:l}},45:function(e,t,n){var a=n(5)(n(67),n(111),null,null);e.exports=a.exports},5:function(e,t){e.exports=function(e,t,n,a){var r,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(r=e,o=e.default);var i="function"==typeof o?o.options:o;if(t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),n&&(i._scopeId=n),a){var u=Object.create(i.computed||null);Object.keys(a).forEach(function(e){var t=a[e];u[e]=function(){return t}}),i.computed=u}return{esModule:r,exports:o,options:i}}},66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),r=n(4);n(3);t.default={name:"KsCalendar",model:{prop:"date"},props:{date:{type:[String,Date],default:function(){return new Date}},selection:{type:[String,Array],default:""},weekStart:{type:[String,Number],default:0},abbrevDay:{type:Boolean,default:!0},abbrevMonth:{type:Boolean,default:!1},format:{type:String,default:"Y-m-d"},weekHeight:{type:String,default:"auto"},interactive:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1}},data:function(){return{lang:a.defaultLocale,first_day:"",last_day:"",yearPickerOpen:!1}},computed:{tabindex:function(){return!!this.interactive&&"0"},date_obj:function(){return this.date instanceof Date?this.date:this.date?(0,a.parseDate)(this.date,this.format):new Date},month:function(){return this.lang.months.names[this.date_obj.getMonth()]},month_abbrev:function(){return this.lang.months.abbreviations[this.date_obj.getMonth()]},year:function(){return this.date_obj.getFullYear()},year_list:function(){if(!this.yearPicker)return[];for(var e=Array(200),t=0;t<200;t++)e[t]=this.year-100+(t+1);return e},week_titles:function(){var e=this.lang.days[this.abbrevDay?"abbreviations":"names"];return 0==this.weekStart?e:e.slice(this.weekStart).concat(e.slice(0,this.weekStart))},days:function(){return(0,a.getDaysInMonth)(this.date_obj.getMonth(),this.date_obj.getFullYear())},weeks:function e(){var e=[],t=[];if(this.weekStart!=this.days[0].getDay()){var n=this.days[0];do{n=(0,a.subDays)(n,1),t.unshift(n)}while(n.getDay()!=this.weekStart)}t.push(this.days[0]);for(var r=1;r<this.days.length;r++)this.weekStart==this.days[r].getDay()&&(e.push(t),t=[]),t.push(this.days[r]);if(t.length){for(var o=this.days[this.days.length-1];t.length<7;)o=(0,a.addDays)(o,1),t.push(o);e.push(t)}return e},week_style:function(){return"auto"==this.weekHeight?{}:{"min-height":this.weekHeight}},today:function(){return this.formatDate(new Date)}},mounted:function(){var e=this;this.$nextTick(function(){(0,r.mouseHold)(e.$refs.next,e.next),(0,r.mouseHold)(e.$refs.previous,e.previous)})},filters:{day:function(e){return e.getDate()}},methods:{setLang:function(e){this.lang=e},changeYear:function(e){var t=(0,a.cloneDate)(this.date_obj);t.setFullYear(e),this.$emit("input",this.formatDate(t)),this.closeYear(),this.$el.focus()},isInMonth:function(e){return e.getMonth()==this.date_obj.getMonth()},formatDate:function(e){return(0,a.formatDate)(e,this.format)},dayClass:function(e){var t=this.formatDate(e);return{selected:t===this.selection,today:t==this.today}},selectDay:function(e){this.$emit("select",this.formatDate(e))},previous:function(){this.$emit("input",this.formatDate((0,a.subMonths)(this.date_obj))),this.$emit("previous")},next:function(){this.$emit("input",this.formatDate((0,a.addMonths)(this.date_obj))),this.$emit("next")},openYear:function(){var e=this;this.yearPickerOpen=!0,this.$nextTick(function(){var t=e.$refs.calendar.offsetHeight,n=e.$refs.calendar.scrollHeight/2-t/2;e.$refs.calendar.scrollTop=n})},closeYear:function(){this.yearPickerOpen=!1}}}},67:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(106),o=a(r),s=n(11),i=n(4);t.default={name:"KsDatepicker",props:{value:{},name:{type:String,default:"ks_datepicker"},dateFormat:{type:String,default:"Y-m-d"},displayFormat:{type:String,default:"m/d/Y"},yearPicker:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1}},data:function(){return{is_open:!1,focused:!1,calendar_date:this.value_date,calendar_focused:!1}},computed:{display_date:function(){return this.value?(0,s.formatDate)(this.value,this.displayFormat,this.dateFormat):""},show:function(){return this.is_open},value_date:function(){return this.value?(0,s.formatDate)(this.value,this.dateFormat):""}},mounted:function(){var e=this;this.$nextTick(function(){(0,i.smartFocusToggle)(e.$el,function(t,n){e.focused=t},50)}),this.calendar_date=this.value_date},methods:{selectDay:function(e){this.$emit("input",(0,s.formatDate)(e,this.dateFormat)),this.is_open=!1},open:function(){this.calendar_date=this.value_date,this.is_open=!0,this.$emit("open")},close:function(){this.is_open=!1,this.$emit("close")}},watch:{calendar_date:function(){this.$emit("calendar_change",this.calendar_date)},focused:function(){this.focused||(this.is_open=!1)}},components:{KsCalendar:o.default}}}})});
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.KsSelect=t():(e.KickstartUI=e.KickstartUI||{},e.KickstartUI.KsSelect=t())}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=74)}([function(e,t,n){"use strict";function i(e,t,n,i,s,o,r,l){var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=c):s&&(c=l?function(){s.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(u.functional){u._injectStyles=c;var a=u.render;u.render=function(e,t){return c.call(t),a(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(10),s=Object.prototype.toString;function o(e){return"[object Array]"===s.call(e)}function r(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===s.call(e)}function c(e,t){if(null!=e)if("object"==typeof e||o(e)||(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:r,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:l,isStream:function(e){return r(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement},forEach:c,merge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,s=arguments.length;i<s;i++)c(arguments[i],n);return t},extend:function(e,t,n){return c(t,(function(t,s){e[s]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";function i(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener?(e.addEventListener(t,n,i),"mousewheel"==t&&e.addEventListener("DOMMouseScroll",n,i)):e.attachEvent(t,n)}function s(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener?(e.removeEventListener(t,n,i),"mousewheel"==t&&e.removeEventListener("DOMMouseScroll",n,i)):e.detachEvent(t,n)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150,s=[],o={el:e,focus:function(e){t(!0,e),s.push(e.target)},blur:function(i){var o=s.indexOf(i.target);-1!==o&&s.splice(o,1),setTimeout((function(){0===s.length&&e!==document.activeElement&&t(!1,i)}),n)}};return i(e,"focus",o.focus,!0),i(e,"blur",o.blur,!0),o}function r(e){e&&e.focus&&e.blur&&e.el&&(s(e.el,e.focus),s(e.el,e.blur))}function l(e){return e.keyCode?e.keyCode:e.charCode}function c(e){i(e,"wheel",(function(t){var n=e.offsetHeight,i=e.scrollHeight,s=e.scrollTop;t.wheelDelta>0||t.deltaY<0?0==s&&t.preventDefault():n+s>=i&&t.preventDefault(),t.stopPropagation()}))}function u(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;i(e,"scroll",(function(i){clearTimeout(n),n=setTimeout((function(){a(e,o)&&t()}),s)}))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=e.scrollTop,i=e.offsetHeight,s=e.scrollHeight;return 0!==n&&n+i>=s-t}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,o=null,r=null,l=s;function c(){o=setTimeout((function(){t(),l*=.925,c()}),l)}i(e,"mousedown",(function(){r=setTimeout((function(){!0===!0&&c()}),n)})),i(e,"mouseup",(function(){clearTimeout(r),clearTimeout(o),!1,l=s}))}n.r(t),n.d(t,"addEvent",(function(){return i})),n.d(t,"removeEvent",(function(){return s})),n.d(t,"smartFocusToggle",(function(){return o})),n.d(t,"removeSmartFocusToggle",(function(){return r})),n.d(t,"keyCode",(function(){return l})),n.d(t,"stopParentScroll",(function(){return c})),n.d(t,"scrolledToBottom",(function(){return u})),n.d(t,"isScrolledToBottom",(function(){return a})),n.d(t,"mouseHold",(function(){return h})),t.default={addEvent:i,smartFocusToggle:o,removeSmartFocusToggle:r,keyCode:l,stopParentScroll:c,scrolledToBottom:u,isScrolledToBottom:a,mouseHold:h}},,function(e,t,n){"use strict";function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=e,s=t.split("."),o=0;o<s.length-1;++o){var r=s[o];if(void 0===i[r])return n;i=i[r]}return i[s[s.length-1]]||n}function s(e,t,n){var i=e,o=t.split(".");return o.length>1?(void 0===i[o[0]]&&(i[o[0]]={}),i[o[0]]=s(i[o[0]],o.splice(1).join("."),n)):"[object Array]"===Object.prototype.toString.call(i[o[0]])?i[o[0]].push(n):i[o[0]]=n,i}function o(e,t){var n={};for(var i in t)n[t[i]]=void 0!==e[t[i]]?e[t[i]]:null;return n}function r(e,t){for(var n in e)if(e[n]==t)return n;return-1}function l(e,t){var n={};for(var s in e){var o=i(e[s],t);n[o]?n[o].push(e[s]):n[o]=[e[s]]}return n}n.r(t),n.d(t,"object_get",(function(){return i})),n.d(t,"object_set",(function(){return s})),n.d(t,"object_only",(function(){return o})),n.d(t,"looseIndexOf",(function(){return r})),n.d(t,"groupBy",(function(){return l})),t.default={object_get:i,object_only:o,looseIndexOf:r,object_set:s,groupBy:l}},function(e,t,n){"use strict";n.r(t),n.d(t,"escapeRegExp",(function(){return s})),n.d(t,"ucwords",(function(){return o})),n.d(t,"posesses",(function(){return r})),n.d(t,"currency",(function(){return l})),n.d(t,"pad_left",(function(){return c})),n.d(t,"ellipsis",(function(){return u}));var i=/[|\\{}()[\]^$+*?.]/g;function s(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(i,"\\$&")}function o(e){return(e+"").replace(/^([a-z])|\s+([a-z])/g,(function(e){return e.toUpperCase()}))}function r(e){var t=e;return"s"==e[e.length-1]?t+"'":t+"'s"}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";return e="string"==typeof e?e.replace(/,/g,""):e,t+parseFloat(e).toFixed(2).replace(/./g,(function(e,t,n){return t&&"."!==e&&(n.length-t)%3==0?","+e:e}))}function c(e,t,n){var i=n-(e=String(e)).length;return i>0?String(t).repeat(i)+e:e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e.length>t?e.substr(0,t)+"...":e}t.default={escapeRegExp:s,ucwords:o,posesses:r,currency:l,pad_left:c,ellipsis:u}},function(e,t,n){e.exports=n(21)},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t,n){"use strict";(function(t){var i=n(1),s=n(23),o=/^\)\]\}',?\n/,r={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t)&&(c=n(11)),c),transformRequest:[function(e,t){return s(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(l(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(o,"");try{e=JSON.parse(e)}catch(e){}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(r)})),e.exports=u}).call(this,n(17))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(1),s=n(24),o=n(26),r=n(27),l=n(28),c=n(12),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(29);e.exports=function(e){return new Promise((function(t,a){var h=e.data,f=e.headers;i.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||l(e.url)||(p=new window.XDomainRequest,d="onload",m=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var v=e.auth.username||"",y=e.auth.password||"";f.Authorization="Basic "+u(v+":"+y)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[d]=function(){if(p&&(4===p.readyState||m)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?r(p.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};s(t,a,i),p=null}},p.onerror=function(){a(c("Network Error",e)),p=null},p.ontimeout=function(){a(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),p=null},i.isStandardBrowserEnv()){var g=n(30),_=(e.withCredentials||l(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;_&&(f[e.xsrfHeaderName]=_)}if("setRequestHeader"in p&&i.forEach(f,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(e){if("json"!==p.responseType)throw e}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),a(e),p=null)})),void 0===h&&(h=null),p.send(h)}))}},function(e,t,n){"use strict";var i=n(25);e.exports=function(e,t,n,s){var o=new Error(e);return i(o,t,n,s)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,n){"use strict";n.r(t);var i=n(7),s=n.n(i),o=n(6),r=n.n(o);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=r.a.create();t.default={get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u.get(e,c(c({},n),t)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},post:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u.post(e,t,n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},put:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u.put(e,t,n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},patch:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u.patch(e,t,n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},delete:function(e,t){return u.delete(e,t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},baseUrl:function(e){r.a.defaults.baseURL=e},getInstance:function(){return u},interceptors:{request:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.interceptors.request.use((function(t){return"function"==typeof e?e(t):t}),(function(e){return!1!==t?Promise.reject(t(e)):Promise.reject(e)}))},response:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.interceptors.response.use((function(t){return e(t)}),(function(e){return!1!==t?Promise.reject(t(e)):Promise.reject(e)}))}}}},function(e,t,n){"use strict";var i=n(7),s=n.n(i),o=n(4),r=n(2),l=n(5),c=n(6),u=n.n(c),a=n(15);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a={props:{items:{type:Array,default:function(){return null}},closeOnBlur:{type:Boolean,default:!0},cacheResults:{type:Boolean,default:!0},paginated:{type:Boolean,default:!1},paginateThreshold:{type:Number,default:3},minSearch:{type:Number,default:1},stopParentScroll:{type:Boolean,default:!0},taggable:{type:Boolean,default:!1},selectionKey:{type:String,default:null},delay:{type:Number,default:100},groupBy:{type:[String],default:null},acceptEmptySelection:{type:Boolean,default:!1},emptyMessage:{type:String,default:""}},data:function(){return{ref_lookup:"lookup",ref_list:"list",loading:!1,focused:!1,lookup_name:"",list:[],startIndex:-1,minIndex:-1,selected_index:-1,hover_index:-1,cache:{},page:1,last_page:null,mousescroll_threshold:40,mousescroll_delay:100,navigating_with_keys:!1,key_pressed_timer:"",cancel_token_source:null,selected_empty:!1}},computed:{nameRegex:function(){return new RegExp("^.*"+Object(l.escapeRegExp)(""+this.lookup_name)+".*","i")},filter_function:function(){var e=this,t=this.filter;return!t&&this.selectionKey&&(t=this.selectionKey),"function"==typeof t?t:function(n){var i=!!Object(o.object_get)(n,t,"").match(e.nameRegex);if(e.groupBy){var s=!!Object(o.object_get)(n,e.groupBy,"").match(e.nameRegex);return i||s}return i}},list_exhausted:function(){return parseInt(this.last_page||0)>0},is_multiple:function(){return this.taggable||this.multiple},last_index:function(){return this.list.length-1},groups:function(){if(!this.groupBy)return{};var e={};for(var t in this.list){var n=Object(o.object_get)(this.list[t],this.groupBy);void 0===e[n]&&(e[n]=[]),e[n].push(f(f({},this.list[t]),{},{_index:t}))}return e},hasEmptyMessage:function(){return this.emptyMessage||this.$slots.empty||this.$scopedSlots.empty}},methods:{callHookMethod:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];"function"==typeof this[e]&&this[e].apply(this,t)},initListNavigation:function(e){var t=this;this.ref_lookup=e.lookup||"lookup",this.ref_list=e.list||"list",this.$nextTick((function(){t.listenForScroll(),Object(r.addEvent)(document,"mousemove",(function(){t.navigating_with_keys=!1})),Object(r.smartFocusToggle)(t.$el,(function(e,n){t.focused=e,e||(t.$emit("blur"),t.focused=!1,t.closeOnBlur&&t.clear())}),50),t.focus&&t.setFocus()}))},listenForScroll:function(){var e=this;this.paginated&&Object(r.scrolledToBottom)(this.$refs[this.ref_list],(function(){e.last_index&&!e.list_exhausted&&e.list.length&&e.runNextPage(e.last_index)}),this.mousescroll_delay,this.mousescroll_threshold),this.stopParentScroll&&Object(r.stopParentScroll)(this.$refs[this.ref_list])},setHoverIndex:function(e){this.navigating_with_keys||(this.selected_index=e)},selectUp:function(){var e=this;this.navigating_with_keys=!0,this.selected_index-1<this.minIndex?this.callHookMethod("onSelectStartBoundary"):(this.selected_index-=1,this.callHookMethod("onSelectUp")),this.list.length>0&&this.$nextTick((function(){e.autoScroll("up")}))},selectDown:function(){var e=this;this.navigating_with_keys=!0,this.selected_index+1<=this.last_index?(this.selected_index+=1,this.callHookMethod("onSelectDown")):this.callHookMethod("onSelectEndBoundary"),this.list.length>0&&this.$nextTick((function(){e.autoScroll("down")}))},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.resetList(),this.lookup_name="",this.list=[],this.$refs[this.ref_lookup]!==document.activeElement||e||this.$refs[this.ref_lookup].blur(),this.$emit("clear",e)},clearCache:function(){this.cache={}},getSelectedItem:function(){return this.getItemByIndex(this.selected_index)},getItemByIndex:function(e){return e=parseInt(e),this.list.length>e?this.list[e]:null},setFocus:function(e){var t=this.$refs[e||this.ref_lookup];void 0!==t&&t.focus(),this.$emit("focus")},findCache:function(e,t){return e in this.cache&&t in this.cache[e]&&this.cache[e][t]},addCache:function(e,t,n){this.cache[e]||(this.cache[e]={}),this.cache[e][t]=n},runSearch:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.cacheResults){var i=this.findCache(e,this.page);if(i)return void this.callback(i,!1,n)}this.loading=!0;var s=this.page;this.$emit("search",{term:e,page:s,callback:function(e){var i=t.setupCancelToken();return a.default.getInstance().get(e,{cancelToken:i.token}).then((function(e){var i=e.data;return t.callback(i.data,!0,n),i})).catch((function(e){"KS-ABORT"!==e.message&&console.error(e)}))}})},setupCancelToken:function(){this.cancel_token_source&&this.cancel_token_source.cancel("KS-ABORT");var e=u.a.CancelToken;return this.cancel_token_source=e.source()},callback:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.loading=!1;var i=this.lookup_name,s=this.getSearchStartIndex();this.paginated?e.length?n?this.list=this.list.concat(e):(this.selected_index=s,this.list=e):(this.last_page=this.page,n||(this.list=e)):(this.selected_index=s,this.list=e),t&&this.cacheResults&&this.addCache(i,this.page,e)},getSearchStartIndex:function(){return parseInt(this.startIndex)},runFilter:function(){this.findCache(this.lookup_name)||(this.loading=!0,this.lookup_name?(this.list=this.items.filter(this.filter_function),this.cache[this.lookup_name]=this.list):this.list=this.items,this.loading=!1)},startSearch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.selected_index=parseInt(t&&-1!=t?t:this.startIndex),this.$nextTick((function(){e.initListScrollTo(e.selected_index)})),this.lookup_name.length<this.minSearch)this.list=[];else if(!this.items||this.paginated){this.timer&&clearTimeout(this.timer);var n=this.lookup_name;this.timer=setTimeout((function(){e.page=1,e.last_page=null,e.runSearch(n)}),this.delay)}else this.runFilter()},initListScrollTo:function(e){var t=0;e>0&&this.$refs[this.ref_list].children[e]&&(t=(this.$refs[this.ref_list].children[e].scrollHeight+2)*e,t=parseInt(Math.abs(t))),this.$refs[this.ref_list].scrollTop=t},resetList:function(){void 0!==this.$refs[this.ref_list]&&(this.$refs[this.ref_list].scrollTop=0,this.selected_index=parseInt(this.startIndex))},autoScroll:function(e){var t=this.$refs[this.ref_list].getElementsByClassName("selected-item")[0];if(t){var n=t.offsetTop,i=t.offsetHeight,s=this.$refs[this.ref_list].scrollTop,o=this.$refs[this.ref_list].offsetHeight;"down"==e?n+i>=s+o&&(this.$refs[this.ref_list].scrollTop+=i):n-i/2<=s&&(this.$refs[this.ref_list].scrollTop-=i)}},runNextPage:function(e){this.paginated&&this.last_index-this.paginateThreshold<=e&&(this.list_exhausted||(this.page++,this.runSearch(this.lookup_name,!0)))},handleSelectEvent:function(e){if(e&&9==Object(r.keyCode)(e)){if(e.shiftKey)return this.clear(),!1;this.is_multiple&&this.lookup_name.length&&e.preventDefault()}return e&&13==Object(r.keyCode)(e)&&(this.is_multiple||(e.stopImmediatePropagation(),e.stopPropagation())),!0},reset:function(){this.list=[],this.lookup_name="",this.clearSelection(),this.clear(),this.clearCache()},selectEmpty:function(e){this.selected_empty=e,this.selected_empty&&this.selectItem()},onSelectEndBoundary:function(){0==this.list.length&&this.acceptEmptySelection&&(this.selected_empty=!0)},onSelectStartBoundary:function(){0==this.list.length&&this.acceptEmptySelection&&(this.selected_empty=!1)},onSelectUp:function(){this.selected_empty=!1},onSelectDown:function(){this.selected_empty=!1}},watch:{selected_index:function(){this.selected_index>=0&&this.runNextPage(this.selected_index)}}}},function(e,t){var n,i,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(e){i=r}}();var c,u=[],a=!1,h=-1;function f(){a&&c&&(a=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!a){var e=l(f);a=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,a=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||a||l(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var i={props:{height:{default:"5px"},show:{default:!1},absolute:{default:!1},zIndex:{default:1}},computed:{loader_style:function(){return{height:this.height,position:this.absolute?"absolute":null,zIndex:this.zIndex}}}},s=n(0),o=Object(s.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{style:"height: "+this.height},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"loader-line",style:this.loader_style})])}),[],!1,null,null,null);t.default=o.exports},,,function(e,t,n){"use strict";var i=n(1),s=n(10),o=n(22),r=n(9);function l(e){var t=new o(e),n=s(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var c=l(r);c.Axios=o,c.create=function(e){return l(i.merge(r,e))},c.Cancel=n(14),c.CancelToken=n(36),c.isCancel=n(13),c.all=function(e){return Promise.all(e)},c.spread=n(37),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var i=n(9),s=n(1),o=n(31),r=n(32),l=n(34),c=n(35);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e&&(e=s.merge({url:arguments[0]},arguments[1])),(e=s.merge(i,this.defaults,{method:"get"},e)).baseURL&&!l(e.url)&&(e.url=c(e.baseURL,e.url));var t=[r,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},s.forEach(["delete","get","head"],(function(e){u.prototype[e]=function(t,n){return this.request(s.merge(n||{},{method:e,url:t}))}})),s.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,i){return this.request(s.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var i=n(1);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},function(e,t,n){"use strict";var i=n(12);e.exports=function(e,t,n){var s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,i){return e.config=t,n&&(e.code=n),e.response=i,e}},function(e,t,n){"use strict";var i=n(1);function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var r=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),r.push(s(t)+"="+s(e))})))})),o=r.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var i=n(1);e.exports=function(e){var t,n,s,o={};return e?(i.forEach(e.split("\n"),(function(e){s=e.indexOf(":"),t=i.trim(e.substr(0,s)).toLowerCase(),n=i.trim(e.substr(s+1)),t&&(o[t]=o[t]?o[t]+", "+n:n)})),o):o}},function(e,t,n){"use strict";var i=n(1);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function s(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=s(window.location.href),function(t){var n=i.isString(t)?s(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,s=String(e),o="",r=0,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.charAt(0|r)||(l="=",r%1);o+=l.charAt(63&t>>8-r%1*8)){if((n=s.charCodeAt(r+=3/4))>255)throw new i;t=t<<8|n}return o}},function(e,t,n){"use strict";var i=n(1);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,s,o,r){var l=[];l.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),i.isString(s)&&l.push("path="+s),i.isString(o)&&l.push("domain="+o),!0===r&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var i=n(1);function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},function(e,t,n){"use strict";var i=n(1),s=n(33),o=n(13),r=n(9);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||r.adapter)(e).then((function(t){return l(e),t.data=s(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var i=n(1);e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,n){"use strict";var i=n(14);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s((function(t){e=t})),cancel:e}},e.exports=s},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(18),s=n(4),o={name:"KsAutocomplete",mixins:[n(16).a],props:{value:{},placeholder:{default:"Lookup ..."},itemFilter:{type:[String,Function],default:null},multiple:{type:Boolean,default:!1},listHeight:{default:"250px"},minSearch:{type:Number,default:1},focus:{type:Boolean,default:!1},showTagInList:{type:Boolean,default:!1},keepTextOnDelete:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{lookup_name:"",selected_index:-1,selection:null,timer:"",list:[],loading:!1}},computed:{show_list:function(){return this.focused&&this.lookup_name.length>=this.minSearch},has_selections:function(){return!(!this.selection||!this.selection.length)},placeholder_txt:function(){return this.has_selections?"":this.placeholder}},mounted:function(){var e=this;this.itemFilter||(this.filter=this.selectionKey),this.refreshSelection(),this.$nextTick((function(){e.initListNavigation({lookup:"lookup",list:"list"})}))},methods:{clearSelection:function(e){var t=this,n=null;if(this.is_multiple){var i=this.selection.indexOf(e);i>-1&&(n=this.selection.splice(i,1),this.$emit("deleted",n),this.$emit("input",this.selection))}else n=this.selection,this.selection=null,this.$emit("input",this.selection);n&&this.keepTextOnDelete&&(this.lookup_name=this.getSelectionLabel(n[0])),this.focused=!1,this.$nextTick((function(){t.setFocus()}))},backspace:function(){if(""==this.lookup_name)if(this.has_selections&&this.is_multiple){var e=this.$refs.selections.children[this.selection.length-1];e&&e.focus()}else this.clear(!0)},selectionValue:function(){return this.is_multiple?this.selection:this.selection.length?this.selection[0]:""},selectItem:function(e,t){if(this.handleSelectEvent(t),this.taggable&&-1==e&&this.lookup_name.length)this.tagSelection();else if(this.list[e]||this.selected_empty){this.selected_index=e;var n=this.getSelectedItem();this.addSelection(n),this.selected_empty?(this.$emit("selected-empty",!0),this.focused=!1):this.$emit("input",this.selectionValue()),this.lookup_name="",this.list=[],0==this.minSearch&&this.is_multiple&&this.startSearch(),!this.is_multiple&&t&&"type"in t&&"click"==t.type&&(this.focused=!1)}},addSelection:function(e){this.selection||(this.selection=[]),-1==this.selection.indexOf(e)&&void 0!==e&&this.selection.push(e)},getSelection:function(){return this.selection},getSelectionLabel:function(e){return e instanceof Object?Object(s.object_get)(e,this.selectionKey):e},editSelection:function(){var e=this;""!=this.lookup_name||this.is_multiple||(this.lookup_name=this.getSelectionLabel(this.selection[0]),this.selection=[],this.$emit("input",""),this.$nextTick((function(){e.setFocus("lookup")})))},tagSelection:function(){var e=this.lookup_name;this.selection||(this.selection=[]),this.selection.push(e),this.lookup_name="",this.$emit("tag-created",e),this.$emit("input",this.selectionValue())},refreshSelection:function(){this.value?this.is_multiple&&this.value instanceof Array?this.selection=this.value:this.selection&&this.is_multiple?-1==this.selection.indexOf(this.value)&&this.selection.push(this.value):this.selection=[this.value]:this.selection=[]}},watch:{lookup_name:function(e,t){e!=t&&(this.has_selections&&!this.is_multiple||this.startSearch())},items:function(){this.clearCache()},list:function(){this.taggable&&1==this.list.length?String(this.lookup_name).toLowerCase()===String(this.getSelectionLabel(this.getItemByIndex(0))).toLowerCase()&&(this.selected_index=0):this.list.length>0&&(this.selected_empty=!1)},focused:function(){this.focused&&0==this.minSearch&&0==this.lookup_name.length&&(this.has_selections&&!this.is_multiple||this.startSearch())},show_list:function(){this.show_list||this.resetList()},value:function(){this.refreshSelection()}},components:{LoaderLine:i.default}},r=n(0),l=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomplete-holder",class:{"is-selected":e.has_selections,"is-multiple":e.is_multiple,disabled:e.disabled},attrs:{tabindex:"-1"},on:{click:function(t){return t.preventDefault(),e.setFocus("lookup")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.editSelection(t))}}},[e.selectionKey&&e.has_selections?n("span",{ref:"selections",staticClass:"selection",on:{click:function(t){return t.preventDefault(),e.editSelection(t)}}},e._l(e.selection,(function(t){return n("span",{staticClass:"selection-text",attrs:{tabindex:"0"},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"])?null:(n.preventDefault(),n.stopPropagation(),e.clearSelection(t))}}},[e._v("\n\t\t\t\t"+e._s(e.getSelectionLabel(t))+"\n\t\t\t\t"),n("a",{staticClass:"clear-selection",attrs:{href:"#",tabindex:"-1"},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),e.clearSelection(t)}}},[n("svg",{attrs:{width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[n("g",{attrs:{id:"close",fill:"#000000"}},[n("polygon",{attrs:{id:"Combined-Shape",points:"10 8.58578644 2.92893219 1.51471863 1.51471863 2.92893219 8.58578644 10 1.51471863 17.0710678 2.92893219 18.4852814 10 11.4142136 17.0710678 18.4852814 18.4852814 17.0710678 11.4142136 10 18.4852814 2.92893219 17.0710678 1.51471863 10 8.58578644"}})])])])])])})),0):e._e(),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!e.has_selections||e.is_multiple,expression:"!has_selections || is_multiple"},{name:"model",rawName:"v-model",value:e.lookup_name,expression:"lookup_name"}],ref:"lookup",attrs:{type:"text",autocomplete:"off",name:"lookup_name",placeholder:e.placeholder_txt},domProps:{value:e.lookup_name},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clear(t)},function(t){return t.type.indexOf("key")||8===t.keyCode?e.backspace(t):null}],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.selectItem(e.selected_index,t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectItem(e.selected_index,t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectDown())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectUp())}],input:function(t){t.target.composing||(e.lookup_name=t.target.value)}}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show_list,expression:"show_list"}],staticClass:"autocomplete-list-wrapper"},[n("div",{staticClass:"searching-results"},[n("loader-line",{attrs:{show:e.loading}})],1),e._v(" "),n("ul",{ref:"list",staticClass:"autocomplete-list",style:"max-height:"+this.listHeight},[e.showTagInList&&e.taggable&&e.lookup_name?n("li",{class:{"selected-item":-1==e.selected_index},on:{click:function(t){return e.selectItem(-1,t)}}},[e._v('\n\t\t\t\t\tAdd "'),n("em",{domProps:{textContent:e._s(e.lookup_name)}}),e._v('"\n\t\t\t\t')]):e._e(),e._v(" "),e.groupBy?e._l(e.groups,(function(t,i){return n("li",{key:i,staticClass:"opt-group"},[n("strong",[e._v(e._s(i))]),e._v(" "),n("ul",e._l(t,(function(t,i){return n("li",{key:i,class:{"selected-item":t._index==e.selected_index},on:{click:function(n){return n.preventDefault(),e.selectItem(t._index,n)},mouseover:function(n){return e.setHoverIndex(t._index)}}},[e._t("default",[e._v(e._s(t[e.selectionKey]))],{item:t})],2)})),0)])})):e._l(e.list,(function(t,i){return n("li",{key:i,class:{"selected-item":i==e.selected_index},on:{click:function(t){return t.preventDefault(),e.selectItem(i,t)},mouseover:function(t){return e.setHoverIndex(i)}}},[e._t("default",[e._v(e._s(t[e.selectionKey]))],{item:t})],2)})),e._v(" "),e.acceptEmptySelection||!e.hasEmptyMessage||e.loading||0!=e.list.length?e._e():n("li",{staticClass:"empty-list-message"},[e._t("empty",[e._v(e._s(e.emptyMessage))],{term:e.lookup_name})],2),e._v(" "),e.acceptEmptySelection&&e.hasEmptyMessage&&!e.loading&&0==e.list.length?n("li",{staticClass:"empty-list-message active-empty-list-message",class:{"selected-item":e.selected_empty},on:{click:function(t){return t.preventDefault(),e.selectEmpty(!0)}}},[e._t("empty",[e._v(e._s(e.emptyMessage))],{term:e.lookup_name})],2):e._e()],2)])])}),[],!1,null,null,null);t.default=l.exports},,,,,,,,function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(100)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(53),s=n.n(i),o=n(45),r=n(16),l=n(18),c=n(4),u={name:"KsSelect",mixins:[r.a],props:{name:{type:String,required:!0},labelKey:{type:String,required:!0},value:{},placeholder:{type:String,default:"Select..."},searchThreshold:{type:Number,default:7},disableSearch:{type:Boolean,default:!1},itemFilter:{},itemKey:String,listHeight:{default:"250px"},minSearch:{type:Number,default:0},multiple:{type:Boolean,default:!1},singleDeselect:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},forceValues:{type:Boolean,default:!1},forceObjects:{type:Boolean,default:!1},invertOffsetRatio:{type:Number,default:.75}},computed:{inputValue:function(){return this.value instanceof Object&&this.keyName in this.value?this.value[this.keyName]:this.value},using_items:function(){return!!this.items},binds_objects:function(){return!this.forceValues&&(!(!this.forceObjects&&null!==this.value&&void 0!==this.value)||"object"===s()(this.value))},show_search:function(){return!this.disableSearch&&(!(this.items&&!this.paginated)||this.items.length>this.searchThreshold)},showDeselect:function(){return!this.multiple&&(this.singleDeselect&&this.inputValue)}},data:function(){return{clear_on_close:!1,loading:!1,selected:null,startIndex:0,minIndex:0,selected_index:0,keyName:this.itemKey,filter:this.itemFilter,isOpen:!1,needs_new_search:!0,inverted:!1,list_style:{"max-height":this.listHeight,top:null}}},mounted:function(){var e=this;this.itemKey||(this.keyName=this.name),this.itemFilter||(this.filter=this.labelKey),Array.isArray(this.items)&&(this.list=this.items),this.$nextTick((function(){e.refreshSelected()})),this.initListNavigation({lookup:"lookup",list:"list"}),this.$on("clear",(function(){e.isOpen=!1})),window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var e=parseInt(this.$refs.list.offsetHeight),t=this.$el.offsetHeight;if(0!=e){var n=this.$el.getBoundingClientRect().top+e*this.invertOffsetRatio+window.scrollY;if(window.innerHeight>e+115&&n>window.innerHeight+window.scrollY)this.inverted=!0,this.list_style.top="calc(-".concat(e,"px - 2.135rem)");else{this.inverted=!1;var i="+",s=.875;this.show_search||(i="-",s=2.125),this.list_style.top="calc(".concat(t-1,"px ").concat(i," ").concat(s,"rem)")}}else this.list_style.top=!1},filledInput:function(e){var t=this;this.list.find((function(n,i){t.keyName in n&&e.target.value==n[t.keyName]&&t.selectItem(i,e,!1)}))},clear:function(){this.resetList(),this.lookup_name="",this.$refs[this.ref_lookup]===document.activeElement&&this.$refs[this.ref_lookup].blur(),this.$emit("clear")},clearSelection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null;if(this.multiple){var n=this.selected.indexOf(e);n>-1&&(t=this.selected.splice(n,1))}else t=this.selected,this.selected=null;this.$emit("deleted",t),this.$emit("input",this.binds_objects?null:""),this.refreshSelected()},toggleOpen:function(){this.isOpen?this.close():this.open()},enterOpen:function(e){if(this.disabled)return!1;this.isOpen?this.selectItem(this.selected_index,e):this.isOpen=!0},tabOpen:function(e){return!this.disabled&&(this.isOpen&&this.selectItem(this.selected_index,e),!0)},openSelectDown:function(){this.open(),this.selectDown()},openSelectUp:function(){this.open(),this.selectUp()},keyOpen:function(e){!this.isOpen&&this.isTypeKey(e)&&this.open()},isTypeKey:function(e){var t=e.keyCode;return t>47&&t<58||32==t||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223},blurred:function(){this.close()},open:function(e){if(this.disabled)return!1;this.isOpen=!0},close:function(){this.isOpen=!1,this.selected_empty=!1},selectItem:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.handleSelectEvent(t)){if(-1==e)return this.clearSelection(),this.resetSelect();var i=this.getItemByIndex(e);null==i||this.keyName in i||console.error("KsSelect: Could not find key: "+this.keyName,i),this.selected_empty?this.$emit("selected-empty",!0):this.binds_objects?this.$emit("input",i):this.$emit("input",i[this.keyName]),n&&this.resetSelect()}},resetSelect:function(){this.resetList(),this.selected_index=0,this.lookup_name="",this.close(),this.$el.focus()},refreshSelected:function(){if(this.value){if(this.binds_objects)this.selected=Object(c.object_get)(this.value,this.labelKey,null);else if(0===this.list.length)this.selected="";else for(var e in this.list)if(this.list[e][this.keyName]==this.value){this.selected=Object(c.object_get)(this.list[e],this.labelKey,null);break}null===this.selected&&(this.binds_objects?console.error("KsSelect Invalid label '".concat(this.labelKey,"'. Could not find label key in selected")):this.selected=this.value)}else this.selected=""},value_index:function(){if(this.value&&!this.multiple){if(this.binds_objects)return parseInt(this.list.indexOf(this.value));for(var e in this.list)if(this.list[e][this.keyName]==this.value)return parseInt(e)}return-1}},watch:{lookup_name:function(){this.startSearch(),this.needs_new_search=!0},list:function(){var e=this;this.$nextTick((function(){e.handleScroll()})),this.list.length>0&&(this.selected_empty=!1)},value:function(){this.refreshSelected(),this.value||this.close()},items:function(){this.list=Array.isArray(this.items)&&this.items.length>0?this.items:[],this.clearCache(),this.refreshSelected(),this.selected_empty=!1},isOpen:function(e,t){var n=this;e&&this.$nextTick((function(){if(n.setFocus("lookup"),t!=e){var i=n.value_index();0==n.list.length||n.needs_new_search?(n.startSearch(i),n.needs_new_search=!1):(n.selected_index=i,n.initListScrollTo(n.selected_index)),n.handleScroll()}}))}},components:{KsAutocomplete:o.default,LoaderLine:l.default}},a=n(0),h=Object(a.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ks-select",class:{"ks-select-open":e.isOpen},attrs:{tabindex:"0",disabled:e.disabled},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),t.stopPropagation(),e.open(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.enterOpen(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.tabOpen(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.openSelectDown(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.openSelectUp(t))},e.keyOpen],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[n("input",{staticClass:"select-input-field",attrs:{type:"text",name:e.name,tabindex:"-1"},domProps:{value:e.inputValue},on:{input:e.filledInput}}),e._v(" "),n("div",{staticClass:"ks-select-selection",on:{click:function(t){return t.preventDefault(),e.toggleOpen(t)}}},[e.value?[e._t("label",[e._v("\n                "+e._s(e.selected)+"\n            ")],{value:e.value,label:e.selected})]:n("div",{staticClass:"ks-select-placeholder"},[e._v(e._s(e.placeholder))]),e._v(" "),e.showDeselect?n("span",{staticClass:"ks-select-deselect",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.clearSelection()}}},[e._v("x")]):e._e(),e._v(" "),n("span",{staticClass:"ks-select-arrow"})],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"ks-select-dropdown"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show_search,expression:"show_search"}],staticClass:"ks-select-dropdown-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.lookup_name,expression:"lookup_name"}],ref:"lookup",class:{"is-multiple":e.multiple},attrs:{type:"text",autocomplete:"new-password",placeholder:e.placeholder},domProps:{value:e.lookup_name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.clear(t))},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation()},input:function(t){t.target.composing||(e.lookup_name=t.target.value)}}})]),e._v(" "),n("div",{staticStyle:{position:"relative",height:"5px","margin-top":"-5px"}},[n("loader-line",{attrs:{show:e.loading,absolute:!0}})],1),e._v(" "),n("div",{staticClass:"ks-select-list"},[n("ul",{ref:"list",staticClass:"autocomplete-list",class:{inverted:this.inverted},style:e.list_style},[e.groupBy?e._l(e.groups,(function(t,i){return n("li",{staticClass:"opt-group"},[n("strong",[e._v(e._s(i))]),e._v(" "),n("ul",e._l(t,(function(t,i){return n("li",{class:{"selected-item":t._index==e.selected_index},on:{click:function(n){return n.preventDefault(),e.selectItem(t._index,n)},mouseover:function(n){return e.setHoverIndex(t._index)}}},[e._t("default",[e._v(e._s(t[e.labelKey]))],{item:t})],2)})),0)])})):e._l(e.list,(function(t,i){return n("li",{class:{"selected-item":i==e.selected_index},on:{click:function(t){return t.preventDefault(),e.selectItem(i)},mouseover:function(t){return e.setHoverIndex(i)}}},[e._t("default",[e._v(e._s(t[e.labelKey]))],{item:t})],2)})),e._v(" "),e.acceptEmptySelection||!e.hasEmptyMessage||e.loading||0!=e.list.length?e._e():n("li",{staticClass:"empty-list-message"},[e._t("empty",[e._v(e._s(e.emptyMessage))],{term:e.lookup_name})],2),e._v(" "),e.acceptEmptySelection&&e.hasEmptyMessage&&!e.loading&&0==e.list.length?n("li",{staticClass:"empty-list-message active-empty-list-message",class:{"selected-item":e.selected_empty},on:{click:function(t){return t.preventDefault(),e.selectEmpty(!0)}}},[e._t("empty",[e._v(e._s(e.emptyMessage))],{term:e.lookup_name})],2):e._e()],2)])])])}),[],!1,null,null,null);t.default=h.exports}])}));